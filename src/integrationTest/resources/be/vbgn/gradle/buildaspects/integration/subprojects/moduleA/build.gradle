def system1ProjectCalled = false
def system3ProjectCalled = false
buildAspects.withVariant("systemVersion", "1.0") {
    system1ProjectCalled = true
    assert name == 'moduleA-systemVersion-1.0'
    task moduleASystemVersion1 {

    }
    clean.dependsOn(moduleASystemVersion1)
}

buildAspects.withVariant("systemVersion", "3.0") {
    system3ProjectCalled = true
}

afterEvaluate {
    assert system1ProjectCalled
    assert !system3ProjectCalled
}
